<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <title>饭否精选 &middot; 排版工具</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.0.3/css/bootstrap.min.css">
</head>
<body>
    <div class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">饭否精选 &middot; 排版工具</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#">For Dear Armo</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="form-group">
            <textarea class="form-control" id="content" rows="15" placeholder="将进行简单排版，同时删除包含网址的消息。" autofocus></textarea>
        </div>
        <div class="form-group text-center">
            <button type="button" class="btn btn-primary btn-lg btn-block" onclick="process()">排版</button>
        </div>
    </div>

    <script type="text/javascript">
        var content = document.getElementById('content');

        function process (e) {
            content.value = content.value.replace(/^20(\d{0,2})-(.*)/gim, '') // 过滤时间
                                         .replace(/(.*)http(s?):\/\/(.*)/gim, '') // 过滤网址
                                         .replace(/(.*)(知乎|谷歌地图|搞笑语录|搞笑短信|热点语录)(.*)/gim, '') // 过滤营销号
                                         .replace(/(.*)(鹿先森|狐不悔|看见旧时光|左堂堂|超級小饅頭|正了巴经|教父他爹|Chestnut|卢瑟\.|2gether\.4eve|草寅|殇君安静|西门炊烟|次仁|若氷|渊辞|钢板樱桃|集念|酸奶奶奶)(.*)/gim, '') // 过滤抄袭号
                                         .replace(/^(\s)*$/gim, '') // 过滤多余空格
                                         .replace(/“/gim, '「') // 排版
                                         .replace(/”/gim, '」')
                                         .replace(/^([^\s]*) (.*)$/gim, '$2 [@$1]');
        }
    </script>
</body>
</html>
